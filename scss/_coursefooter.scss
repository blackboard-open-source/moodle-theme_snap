// -------------------------
//  Course footer - a footer in n2018 courses.
// -------------------------
// -------------------------
// Course footer.
// -------------------------

#n2018-course-footer {
    margin-top: 1em;
    padding: 1em 4%;
    background-color: $footer-color-bg;

    .n2018-media-object {
        font-weight: normal;
    }
}

#n2018-course-footer-recent-activity,
#n2018-course-footer-about,
#n2018-course-footer-summary,
#n2018-course-footer-contacts {
    padding-top: .5em;
}

// -------------------------
//  About the course.
// -------------------------
#n2018-course-footer-about {
    max-width: 43.5em;
}
#n2018-course-footer-summary {
    font-family: $font-family-serif;
}
// -------------------------
//  Course contacts.
// -------------------------
#n2018-course-footer-contacts {
    .n2018-media-object .userpicture {
        width: 50px;
    }
}

// -------------------------
//  Recent updates.
// -------------------------
#n2018-course-footer-recent-activity {
    padding-top: .5em;

    h3 {
        display: none;
    }

    // Grid content for various breakpoints.
    @include media-breakpoint-up(md) {
        .n2018-media-object {
            width: 23%;
            float: left;
        }
        // Clear every 4th.
        & > .n2018-media-object:nth-child(5n+1) {
            clear: left;
        }
    }
    @include media-breakpoint-down(md) {
        .n2018-media-object {
            width: 48%;
            float: left;
        }
        // Clear every second.
        & > .n2018-media-object:nth-child(3n+1) {
            clear: left;
        }
    }

    .n2018-media-object {
        margin-right: 2%;
        border-top: .3em solid $gray-light;
        // Mrooms forum output updates as media objects which we need to be 100%;
        .n2018-media-object {
            width: 100%;
            float: none;
            border: none;

            h3 {
                display: block;
            }
        }
        // Activity colours.
        &.forum,
        &.chat,
        &.hsuforum {
            border-color: $color-communication;
        }
        &.assign,
        &.assignment,
        &.workshop {
            border-color: $color-assignment;
        }
        &.choice,
        &.feedback,
        &.quiz,
        &.survey,
        &.questionnaire,
        &.lesson {
            border-color: $color-quiz;
        }
        &.data,
        &.glossary,
        &.wiki {
            border-color: $color-wiki;
        }
    }

    // Single line recent updates info (normally a link).
    .info {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        &.bold {
            font-weight: inherit;
        }
    }

    .date {
        font-size: small;
    }

    // Attempt to only show the most recent update.
    // This is complex.
    // N2018 also uses js to update the dom for recent updates.

    // Hide things to start...
    .n2018-media-object .n2018-media-object,
    li,
    .head,
    .info {
        display: none;
    }
    // Updates are shown in reverse order, and we want the most recent, i.e. the last.
    .n2018-media-object {
        div.n2018-media-object,
        li,
        div.head {
            &:last-of-type {
                display: block;
            }
        }
    }

    // Block display some elements account for dom inconsistansies.
    .head .info,
    .n2018-media-object.chat .head,
    .n2018-media-object.chat .userlist {
        display: block;
    }
}
